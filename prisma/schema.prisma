// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}


model User {
    id       String @id @default(cuid())
    name     String
    password String
    assignedTasks Task[] @relation("TaskAssignees")
    createdTasks  Task[] @relation("TaskCreator")
}


model Task {
    id          String       @id @default(uuid())
    title       String
    description String?
    status      TaskStatus   @default(TODO)
    priority    TaskPriority @default(MEDIUM)
    dueDate     DateTime?
    assignees   User[]       @relation("TaskAssignees")
    createdBy   User         @relation("TaskCreator", fields: [createdById], references: [id])
    createdById String
}

enum TaskStatus {
    INPROGRESS
    TODO
    COMPLETED
}

enum TaskPriority {
    LOW
    MEDIUM
    HIGH
}
